{% extends 'base.html' %}
{% load static %}
{% block container %}

    <div id="header">
        <h1 class="h1 text-center">World Cup</h1>
        <h4 class="h4 text-center">Group Stage</h4>

        <div class="row">
            {% for conf in confederations %}
                <div class="col-conf">
                    <div class="group-card-conf">
                        <div class="soccer-card-header">{{ conf }}</div>
                        <div class="soccer-card-body text-center">
                            <div class="h3">
                                {{ teams|teamsByConf:conf }}
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="row">
            <div class="col-6 g-8 offset-md-5">
                <button type="button" class="btn btn-primary"
                        hx-get="{% url 'worldcup.draw' %}" hx-trigger="click" hx-target="body"
                        {% if teams|enableDrawButton:32 is True %} disabled {% endif %}>Draw
                </button>
                <button type="button" class="btn btn-primary" hx-get="{% url 'worldcup.maindraw' %}"
                        hx-trigger="click" hx-target="body">Clear
                </button>
            </div>
        </div>

        <div class="row p-2">
            <div class="col-6 g-8 offset-10">
                <button type="button" class="btn btn-primary" onclick="downloadImage('wc-maindraw')">
                    <i class="fa-solid fa-download"></i>
                </button>
            </div>
        </div>
    </div>

    <div id="section">
        <div class="row p-2">
            <div class="col-md-3">
                <div class="container-card-wc">
                    <div class="soccer-card-header ">Teams</div>
                    <div class="soccer-card-body overflow-auto">
                        <div class="row g-1 ">
                            <div class="offset-md-1">
                                {% for team in teams %}
                                    <div class="team-card-list">
                                        <div class="row">
                                            <div class="flag-config">
                                                <img src="{{ team.image_flag }}" class="img-card flag-circle">
                                            </div>
                                            <div class="name-config">
                                                {{ team.nation_name }}
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-7 offset-md-1">
                <div id="wc-maindraw" class="container-card-wc">
                    <div class="soccer-card-header">Main Draw</div>

                    <div class="soccer-card-body overflow-auto">

                        <div class="loading-grid" data-loading-aria-busy data-loading>
                            {% include "utils/loader/loader.html" %}

                        </div>

                        <div data-loading-aria-busy data-loading-class="d-none">
                            <div class="row mb-6">
                                <div class="col-md-5">
                                    {% if zoneA is not None %}
                                        {% include "utils/groups/group-card.html" with group="A" zone=zoneA %}
                                    {% else %}
                                        {% include "utils/groups/group-card.html" with group="A" iterator=range %}
                                    {% endif %}

                                </div>
                                <div class="col-md-5 offset-md-1">
                                    {% if zoneB is not None %}
                                        {% include "utils/groups/group-card.html" with group="B" zone=zoneB %}
                                    {% else %}
                                        {% include "utils/groups/group-card.html" with group="B" iterator=range %}
                                    {% endif %}

                                </div>
                            </div>
                            <div class="row mb-6">
                                <div class="col-md-5">
                                    {% if zoneC is not None %}
                                        {% include "utils/groups/group-card.html" with group="C" zone=zoneC %}
                                    {% else %}
                                        {% include "utils/groups/group-card.html" with group="C" iterator=range %}
                                    {% endif %}                                </div>
                                <div class="col-md-5 offset-md-1">
                                    {% if zoneD is not None %}
                                        {% include "utils/groups/group-card.html" with group="D" zone=zoneD %}
                                    {% else %}
                                        {% include "utils/groups/group-card.html" with group="D" iterator=range %}
                                    {% endif %}                                </div>
                            </div>
                            <div class="row mb-6">
                                <div class="col-md-5">
                                    {% if zoneE is not None %}
                                        {% include "utils/groups/group-card.html" with group="E" zone=zoneE %}
                                    {% else %}
                                        {% include "utils/groups/group-card.html" with group="E" iterator=range %}
                                    {% endif %}                                </div>
                                <div class="col-md-5 offset-md-1">
                                    {% if zoneF is not None %}
                                        {% include "utils/groups/group-card.html" with group="F" zone=zoneF %}
                                    {% else %}
                                        {% include "utils/groups/group-card.html" with group="F" iterator=range %}
                                    {% endif %}                                </div>
                            </div>
                            <div class="row mb-5">
                                <div class="col-md-5">
                                    {% if zoneG is not None %}
                                        {% include "utils/groups/group-card.html" with group="G" zone=zoneG %}
                                    {% else %}
                                        {% include "utils/groups/group-card.html" with group="G" iterator=range %}
                                    {% endif %}                                </div>
                                <div class="col-md-5 offset-md-1">
                                    {% if zoneH is not None %}
                                        {% include "utils/groups/group-card.html" with group="H" zone=zoneH %}
                                    {% else %}
                                        {% include "utils/groups/group-card.html" with group="H" iterator=range %}
                                    {% endif %}                                </div>
                            </div>

                        </div>


                    </div>

                </div>

            </div>

        </div>
    </div>
{% endblock %}